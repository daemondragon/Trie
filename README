# TextMining projet

## Introduction

This project have as goal a creation of a search structure that is first compiled
to an efficient form, then various search are perfomed in it.

Search must be efficient, as on a 3 million words structure, the search structure must support:
 * At least 3000 queries per second / core with distance = 0
 * At least 300 queries per second / core with distance = 1
 * At least 30 queries per second / core with distance = 2

Requirements are for a 2,7 GHz Intel Core i7 CPU.

Furthermore, the program must not use most than 512M of RAM.
This is why both wanted binary first limit the maximum RAM usage
so that tests can be done in real condition

## Compilation

To compile this program, use `cargo build --release`
This will create the two wanted file in `target/release`
that will then need to be moved to the root of the project.

## Questions

### Décrivez les choix de design de votre programme
### Listez l’ensemble des tests effectués sur votre programme (en plus des units tests)
### Avez-vous détecté des cas où la correction par distance ne fonctionnait pas (même avec une distance élevée) ?
### Quelle est la structure de données que vous avez implémentée dans votre projet, pourquoi ?
### Proposez un réglage automatique de la distance pour un programme qui prend juste une chaîne de caractères en entrée, donner le processus d’évaluation ainsi que les résultats
### Comment comptez vous améliorer les performances de votre programme
### Que manque-t-il à votre correcteur orthographique pour qu’il soit à l’état de l’art ?

## Performance

This part regroup most of the benchmarks done for each major commit
so that performance can be tracked and regression prevented.

New commit are to be inserted at the top of this to prevent useless scrolling
when creating new benchmark.

Benchmark are done on a 2.2 GHz Intel Core™ i5-5200U CPU.

### cad7c95

Testing trie "compiled/art_1000.bin"
Testing query file "./split/query_1000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 91 ms (+- 2 ms) => 10989 query/sec (+- 241 query)
distance: 2, time: 172 ms (+- 45 ms) => 5813 query/sec (+- 1520 query)
Testing query file "./split/query_1000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 111 ms (+- 15 ms) => 9009 query/sec (+- 1217 query)
distance: 2, time: 174 ms (+- 3 ms) => 5747 query/sec (+- 99 query)
Testing query file "./split/query_1000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 93 ms (+- 3 ms) => 10752 query/sec (+- 346 query)
distance: 2, time: 190 ms (+- 19 ms) => 5263 query/sec (+- 526 query)
Testing trie "compiled/art_10000.bin"
Testing query file "./split/query_10000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 1432 ms (+- 125 ms) => 2094 query/sec (+- 182 query)
distance: 2, time: 3388 ms (+- 72 ms) => 885 query/sec (+- 18 query)
Testing query file "./split/query_10000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 1333 ms (+- 20 ms) => 2250 query/sec (+- 33 query)
distance: 2, time: 3493 ms (+- 22 ms) => 858 query/sec (+- 5 query)
Testing query file "./split/query_10000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 1352 ms (+- 105 ms) => 2218 query/sec (+- 172 query)
distance: 2, time: 3365 ms (+- 272 ms) => 891 query/sec (+- 72 query)
Testing trie "compiled/art_100000.bin"
Testing query file "./split/query_100000_75_25.txt"
distance: 0, time: 0 ms (+- 2 ms) => 3000000 query/sec (+- 6000000 query)
distance: 1, time: 4613 ms (+- 280 ms) => 650 query/sec (+- 39 query)
distance: 2, time: 20100 ms (+- 705 ms) => 149 query/sec (+- 5 query)
Testing query file "./split/query_100000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 4726 ms (+- 201 ms) => 634 query/sec (+- 26 query)
distance: 2, time: 20363 ms (+- 1617 ms) => 147 query/sec (+- 11 query)
Testing query file "./split/query_100000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 4305 ms (+- 54 ms) => 696 query/sec (+- 8 query)
distance: 2, time: 20657 ms (+- 1206 ms) => 145 query/sec (+- 8 query)

### b33c0e4

Testing trie "compiled/art_1000.bin"
Testing query file "./split/query_1000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 84 ms (+- 2 ms) => 11904 query/sec (+- 283 query)
distance: 2, time: 164 ms (+- 4 ms) => 6097 query/sec (+- 148 query)
Testing query file "./split/query_1000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 85 ms (+- 1 ms) => 11764 query/sec (+- 138 query)
distance: 2, time: 161 ms (+- 2 ms) => 6211 query/sec (+- 77 query)
Testing query file "./split/query_1000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 92 ms (+- 4 ms) => 10869 query/sec (+- 472 query)
distance: 2, time: 169 ms (+- 2 ms) => 5917 query/sec (+- 70 query)
Testing trie "compiled/art_10000.bin"
Testing query file "./split/query_10000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 1243 ms (+- 70 ms) => 2413 query/sec (+- 135 query)
distance: 2, time: 3024 ms (+- 13 ms) => 992 query/sec (+- 4 query)
Testing query file "./split/query_10000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 1541 ms (+- 274 ms) => 1946 query/sec (+- 346 query)
distance: 2, time: 3556 ms (+- 1466 ms) => 843 query/sec (+- 347 query)
Testing query file "./split/query_10000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 1466 ms (+- 423 ms) => 2046 query/sec (+- 590 query)
distance: 2, time: 3585 ms (+- 327 ms) => 836 query/sec (+- 76 query)
Testing trie "compiled/art_100000.bin"
Testing query file "./split/query_100000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 4750 ms (+- 332 ms) => 631 query/sec (+- 44 query)
distance: 2, time: 18669 ms (+- 387 ms) => 160 query/sec (+- 3 query)
Testing query file "./split/query_100000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 4488 ms (+- 89 ms) => 668 query/sec (+- 13 query)
distance: 2, time: 18733 ms (+- 802 ms) => 160 query/sec (+- 6 query)
Testing query file "./split/query_100000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 4800 ms (+- 119 ms) => 625 query/sec (+- 15 query)
distance: 2, time: 19850 ms (+- 460 ms) => 151 query/sec (+- 3 query)

### 073e08a

Testing trie "compiled/art_1000.bin"
Testing query file "./split/query_1000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 27 ms (+- 5 ms) => 37037 query/sec (+- 6858 query)
distance: 2, time: 79 ms (+- 2 ms) => 12658 query/sec (+- 320 query)
Testing query file "./split/query_1000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 29 ms (+- 7 ms) => 34482 query/sec (+- 8323 query)
distance: 2, time: 79 ms (+- 1 ms) => 12658 query/sec (+- 160 query)
Testing query file "./split/query_1000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 27 ms (+- 1 ms) => 37037 query/sec (+- 1371 query)
distance: 2, time: 78 ms (+- 2 ms) => 12820 query/sec (+- 328 query)
Testing trie "compiled/art_10000.bin"
Testing query file "./split/query_10000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 270 ms (+- 3 ms) => 11111 query/sec (+- 123 query)
distance: 2, time: 1225 ms (+- 2 ms) => 2448 query/sec (+- 3 query)
Testing query file "./split/query_10000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 275 ms (+- 6 ms) => 10909 query/sec (+- 238 query)
distance: 2, time: 1348 ms (+- 125 ms) => 2225 query/sec (+- 206 query)
Testing query file "./split/query_10000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 281 ms (+- 27 ms) => 10676 query/sec (+- 1025 query)
distance: 2, time: 1258 ms (+- 36 ms) => 2384 query/sec (+- 68 query)
Testing trie "compiled/art_100000.bin"
Testing query file "./split/query_100000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 658 ms (+- 41 ms) => 4559 query/sec (+- 284 query)
distance: 2, time: 5656 ms (+- 1089 ms) => 530 query/sec (+- 102 query)
Testing query file "./split/query_100000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 603 ms (+- 4 ms) => 4975 query/sec (+- 33 query)
distance: 2, time: 6206 ms (+- 387 ms) => 483 query/sec (+- 30 query)
Testing query file "./split/query_100000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 691 ms (+- 4 ms) => 4341 query/sec (+- 25 query)
distance: 2, time: 6460 ms (+- 184 ms) => 464 query/sec (+- 13 query)

### 3584e6a

Testing trie "compiled/art_1000.bin"
Testing query file "./split/query_1000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 23 ms (+- 0 ms) => 43478 query/sec (+- 0 query)
distance: 2, time: 66 ms (+- 2 ms) => 15151 query/sec (+- 459 query)
Testing query file "./split/query_1000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 24 ms (+- 1 ms) => 41666 query/sec (+- 1736 query)
distance: 2, time: 70 ms (+- 4 ms) => 14285 query/sec (+- 816 query)
Testing query file "./split/query_1000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 1000000 query/sec (+- 0 query)
distance: 1, time: 23 ms (+- 1 ms) => 43478 query/sec (+- 1890 query)
distance: 2, time: 67 ms (+- 1 ms) => 14925 query/sec (+- 222 query)
Testing trie "compiled/art_10000.bin"
Testing query file "./split/query_10000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 229 ms (+- 3 ms) => 13100 query/sec (+- 171 query)
distance: 2, time: 1071 ms (+- 90 ms) => 2801 query/sec (+- 235 query)
Testing query file "./split/query_10000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 236 ms (+- 3 ms) => 12711 query/sec (+- 161 query)
distance: 2, time: 1075 ms (+- 99 ms) => 2790 query/sec (+- 256 query)
Testing query file "./split/query_10000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 243 ms (+- 14 ms) => 12345 query/sec (+- 711 query)
distance: 2, time: 1395 ms (+- 402 ms) => 2150 query/sec (+- 619 query)
Testing trie "compiled/art_100000.bin"
Testing query file "./split/query_100000_75_25.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 834 ms (+- 300 ms) => 3597 query/sec (+- 1293 query)
distance: 2, time: 4879 ms (+- 204 ms) => 614 query/sec (+- 25 query)
Testing query file "./split/query_100000_50_50.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 521 ms (+- 22 ms) => 5758 query/sec (+- 243 query)
distance: 2, time: 5075 ms (+- 347 ms) => 591 query/sec (+- 40 query)
Testing query file "./split/query_100000_25_75.txt"
distance: 0, time: 0 ms (+- 0 ms) => 3000000 query/sec (+- 0 query)
distance: 1, time: 574 ms (+- 30 ms) => 5226 query/sec (+- 273 query)
distance: 2, time: 4761 ms (+- 82 ms) => 630 query/sec (+- 10 query)
